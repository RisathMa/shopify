
{{ 'luxury-core.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .gender-split {
    display: flex;
    flex-wrap: wrap;
    width: 100%;
    height: 90vh; /* Almost full screen */
    overflow: hidden;
  }
  
  .gender-split__item {
    position: relative;
    flex: 1 1 50%;
    height: 50vh; /* Mobile split */
    overflow: hidden;
    cursor: pointer;
    transition: flex 0.8s var(--ease-luxury);
    text-decoration: none;
    display: block;
  }

  @media screen and (min-width: 750px) {
    .gender-split__item {
      height: 100%;
    }
    
    .gender-split__item:hover {
      flex: 1.2; /* Expand on hover */
    }
  }

  .gender-split__media {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 1.2s var(--ease-luxury);
  }

  .gender-split__item:hover .gender-split__media {
    transform: scale(1.05);
  }

  .gender-split__content {
    position: absolute;
    bottom: 4rem;
    left: 4rem;
    z-index: 2;
    color: white;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2);
  }

  .gender-split__heading {
    font-size: 3rem;
    margin: 0;
    color: white; /* Ensure text is readable */
    text-transform: uppercase;
  }
  
  .gender-split__link-text {
    font-size: 1.2rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-top: 1rem;
    display: inline-block;
    border-bottom: 1px solid white;
    padding-bottom: 0.2rem;
  }

  /* Dim sibling on hover */
  .gender-split:hover .gender-split__item:not(:hover) {
    opacity: 0.7;
  }
{%- endstyle -%}

<div class="gender-split">
  {%- for block in section.blocks -%}
    <a href="{{ block.settings.link }}" class="gender-split__item" {{ block.shopify_attributes }}>
      {%- if block.settings.image != blank -%}
        {{ block.settings.image | image_url: width: 2000 | image_tag: 
           class: 'gender-split__media',
           loading: 'lazy',
           sizes: '(min-width: 750px) 50vw, 100vw'
        }}
      {%- else -%}
        {{ 'collection-' | append: forloop.index | placeholder_svg_tag: 'placeholder-svg gender-split__media' }}
      {%- endif -%}
      

    </a>
  {%- endfor -%}
</div>

{% schema %}
{
  "name": "Gender Split",
  "tag": "section",
  "class": "section section-gender-split",
  "max_blocks": 2,
  "blocks": [
    {
      "type": "collection_split",
      "name": "Split Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "default": "Women",
          "label": "Heading"
        },
        {
          "type": "text",
          "id": "link_label",
          "default": "View Collection",
          "label": "Link Label"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Gender Split",
      "blocks": [
        {
          "type": "collection_split",
          "settings": {
            "heading": "Women"
          }
        },
        {
          "type": "collection_split",
          "settings": {
            "heading": "Men"
          }
        }
      ]
    }
  ]
}
{% endschema %}
